<div class="background" style="height: 100%;">
  <div class="container-fluid w-75 fixed-footer">
    <h2 class="page-h2">Les appartements sélectionnés pour vous</h2>
    <div class="card mb-4" style="height: 4rem;">
      <div class="container"><%= render 'shared/preferences_card' %></div>
    </div>
    <div class="btn-group btn-group-toggle m-4" data-toggle="buttons">
      <label class="btn btn-primary <%= 'active' if params[:display_map].nil? %>">
        <%= link_to flats_path, class: "link-without-style" do %>
          <input type="radio" name="options" id="option1" autocomplete="off" checked> Liste
        <% end %>
      </label>
      <label class="btn btn-primary <%= 'active' unless params[:display_map].nil? %>">
        <%= link_to flats_path(display_map: "true"), class: "link-without-style" do %>
          <input type="radio" name="options" id="option2" autocomplete="off"> Carte
        <% end %>
      </label>
    </div>
    <% if params[:display_map].nil? %>
      <%= render 'shared/display_flats', flats: @flats %>
    <% else %>
      <div class="m-4">
        <div
          id="map"
          style="width: 100%; height: 600px; border-radius: 20px;"
          data-mapbox-api-key="<%= ENV['MAP_BOX_API_KEY']%>"
          data-markers="<%= @markers.to_json %>"
        ></div>
      </div>
    <% end %>

  </div>
</div>
